TODO

- masthead
- contents.html
- run kindlegen

        call(['kindlegen','-c2','-o',mobi_filename,opf_filename])

../delivery-engine/lib/mobi_creation.rb:      cmd = "#{kindlegen} kindlefeeder.opf -verbose 2>&1"
../delivery-engine/lib/paths.rb:  def kindlegen
../delivery-engine/lib/paths.rb:    root + 'bin/kindlegen'


- make sure _document.yml (frontmatter.yml) is generated by delivery-engine
- make sure article titles are linked
- shorten article titles in the NCX
- cover

    <meta name="cover" content="My_Cover" />

Guide 

paulsalvette.com epub and kindlegen tutorial

  <guide>
    # add this
    <reference href="coverpage.html" type="cover" title="Cover"/>

cjs-easy-as-pie.com crfeate ncx file by araby greene

  ncx file may be a simplified TOC

epubsecrets.com nesting your toc in the ncx file and the nookkindle workaround


google search: nested ncx kinde

Important: Order of spine.

  We figured out that we get this error when we have a mismatch between the toc.ncx hierarchy and the <spine> list in content.opf.

  Imagine that we put chap12.xhtml, the chapter with <navLabel><text>Chapter 12</text></navLabel>, inside navPoint part 3 in toc.ncx.

  But over in content.opf, we are listing chap12.xhtml before the part 3 file, as if it were in part 2, instead, in the spine list.

  If we've made that mistake, this would the error we get from kindlegen:
  Error: TOC section scope is not included in the parent chapter: Chapter 12

  Hoping this helps. It took us several hours to track it down. 


Now

  Error(prcgen): Hyperlink not resolved in toc:/home/choi/p/kindlefeeder/kindlerb/test/sections/000/section.html#

